"""
Complete MAC Foundation Database
Includes all available shades across all MAC foundation lines
"""

MAC_FOUNDATION_DATABASE = {
    'Studio Fix Fluid SPF 15': {
        'coverage': 'Full',
        'finish': 'Matte',
        'shades': {
            # NW shades (Cool/Pink undertones) - Complete range
            'NW10': {'L': 74.5, 'a': 5.8, 'b': 11.2, 'hex': '#F4E5D8', 'description': 'Very fair with pink undertones'},
            'NW13': {'L': 72.8, 'a': 6.5, 'b': 12.4, 'hex': '#F2E1D2', 'description': 'Very fair with pink undertones'},
            'NW15': {'L': 71.2, 'a': 7.2, 'b': 13.6, 'hex': '#EFDCCC', 'description': 'Fair with pink undertones'},
            'NW18': {'L': 69.5, 'a': 7.9, 'b': 14.8, 'hex': '#ECD7C6', 'description': 'Fair with pink undertones'},
            'NW20': {'L': 68.2, 'a': 8.5, 'b': 15.4, 'hex': '#E9D3C0', 'description': 'Fair with pink undertones'},
            'NW22': {'L': 66.8, 'a': 9.2, 'b': 16.1, 'hex': '#E6CEBA', 'description': 'Fair to light with pink undertones'},
            'NW25': {'L': 65.4, 'a': 9.8, 'b': 16.8, 'hex': '#E3CAB4', 'description': 'Light with pink undertones'},
            'NW27': {'L': 63.0, 'a': 10.5, 'b': 17.5, 'hex': '#DFC4AD', 'description': 'Light with pink undertones'},
            'NW30': {'L': 61.5, 'a': 11.2, 'b': 18.2, 'hex': '#DCBFA7', 'description': 'Light with pink undertones'},
            'NW33': {'L': 59.8, 'a': 11.9, 'b': 18.9, 'hex': '#D8B9A0', 'description': 'Light to medium with pink undertones'},
            'NW35': {'L': 58.2, 'a': 12.6, 'b': 19.6, 'hex': '#D4B49A', 'description': 'Light medium with pink undertones'},
            'NW38': {'L': 56.5, 'a': 13.3, 'b': 20.3, 'hex': '#D0AE93', 'description': 'Light medium with pink undertones'},
            'NW40': {'L': 54.8, 'a': 14.0, 'b': 21.0, 'hex': '#CCA88D', 'description': 'Light medium with pink undertones'},
            'NW43': {'L': 53.2, 'a': 14.7, 'b': 21.7, 'hex': '#C8A386', 'description': 'Medium with pink undertones'},
            'NW45': {'L': 51.5, 'a': 15.4, 'b': 22.4, 'hex': '#C49D80', 'description': 'Medium with pink undertones'},
            'NW47': {'L': 48.5, 'a': 16.1, 'b': 23.1, 'hex': '#BD9476', 'description': 'Medium with pink undertones'},
            'NW48': {'L': 46.8, 'a': 16.8, 'b': 23.8, 'hex': '#B98E70', 'description': 'Medium with pink undertones'},
            'NW50': {'L': 45.0, 'a': 17.5, 'b': 24.5, 'hex': '#B5886A', 'description': 'Medium to deep with pink undertones'},
            'NW52': {'L': 42.0, 'a': 18.2, 'b': 25.2, 'hex': '#AD7D5F', 'description': 'Medium deep with pink undertones'},
            'NW53': {'L': 40.0, 'a': 18.9, 'b': 25.9, 'hex': '#A87759', 'description': 'Medium deep with pink undertones'},
            'NW54': {'L': 38.0, 'a': 19.6, 'b': 26.6, 'hex': '#A37153', 'description': 'Medium deep with pink undertones'},
            'NW55': {'L': 36.0, 'a': 20.3, 'b': 27.3, 'hex': '#9E6B4D', 'description': 'Deep with pink undertones'},
            'NW56': {'L': 34.0, 'a': 21.0, 'b': 28.0, 'hex': '#996547', 'description': 'Deep with pink undertones'},
            'NW57': {'L': 32.0, 'a': 21.7, 'b': 28.7, 'hex': '#945F41', 'description': 'Deep with pink undertones'},
            'NW58': {'L': 30.0, 'a': 22.4, 'b': 29.4, 'hex': '#8F593B', 'description': 'Deep with pink undertones'},
            
            # NC shades (Warm/Yellow undertones) - Complete range
            'NC5': {'L': 75.5, 'a': 8.5, 'b': 15.5, 'hex': '#F6E7D2', 'description': 'Very fair with yellow undertones'},
            'NC10': {'L': 73.8, 'a': 9.2, 'b': 16.8, 'hex': '#F3E3CC', 'description': 'Very fair with yellow undertones'},
            'NC15': {'L': 71.5, 'a': 10.4, 'b': 18.2, 'hex': '#EFDDC5', 'description': 'Fair with yellow undertones'},
            'NC20': {'L': 69.2, 'a': 11.6, 'b': 19.6, 'hex': '#EBD7BE', 'description': 'Fair with yellow undertones'},
            'NC25': {'L': 67.0, 'a': 12.8, 'b': 20.8, 'hex': '#E7D1B7', 'description': 'Fair to light with yellow undertones'},
            'NC30': {'L': 64.8, 'a': 14.0, 'b': 22.0, 'hex': '#E3CBB0', 'description': 'Light with yellow undertones'},
            'NC35': {'L': 62.5, 'a': 15.2, 'b': 23.2, 'hex': '#DEC4A8', 'description': 'Light with yellow undertones'},
            'NC37': {'L': 60.8, 'a': 16.2, 'b': 24.5, 'hex': '#DABEA1', 'description': 'Light to medium with yellow undertones'},
            'NC40': {'L': 59.0, 'a': 17.4, 'b': 25.8, 'hex': '#D6B89A', 'description': 'Light medium with yellow undertones'},
            'NC42': {'L': 57.2, 'a': 18.6, 'b': 27.0, 'hex': '#D2B293', 'description': 'Light medium with yellow undertones'},
            'NC44': {'L': 55.4, 'a': 19.8, 'b': 28.2, 'hex': '#CEAC8C', 'description': 'Medium with yellow undertones'},
            'NC45': {'L': 53.6, 'a': 20.8, 'b': 29.5, 'hex': '#CAA685', 'description': 'Medium with yellow undertones'},
            'NC47': {'L': 51.8, 'a': 21.8, 'b': 30.8, 'hex': '#C6A07E', 'description': 'Medium with yellow undertones'},
            'NC50': {'L': 50.0, 'a': 23.0, 'b': 32.0, 'hex': '#C29A77', 'description': 'Medium to deep with yellow undertones'},
            'NC52': {'L': 47.2, 'a': 24.2, 'b': 33.2, 'hex': '#BC8F6C', 'description': 'Medium deep with yellow undertones'},
            'NC55': {'L': 45.0, 'a': 25.5, 'b': 34.5, 'hex': '#B68965', 'description': 'Medium deep with yellow undertones'},
            'NC56': {'L': 41.0, 'a': 26.8, 'b': 35.8, 'hex': '#AB7D58', 'description': 'Deep with yellow undertones'},
            'NC57': {'L': 39.0, 'a': 27.8, 'b': 36.8, 'hex': '#A67752', 'description': 'Deep with yellow undertones'},
            'NC58': {'L': 37.0, 'a': 28.8, 'b': 37.8, 'hex': '#A1714C', 'description': 'Deep with yellow undertones'},
            'NC59': {'L': 35.0, 'a': 29.8, 'b': 38.8, 'hex': '#9C6B46', 'description': 'Deep with yellow undertones'},
            'NC60': {'L': 33.0, 'a': 30.8, 'b': 39.8, 'hex': '#976540', 'description': 'Very deep with yellow undertones'},
            
            # N shades (Neutral undertones)
            'N4': {'L': 72.5, 'a': 8.0, 'b': 15.0, 'hex': '#F1E2CE', 'description': 'Fair with neutral undertones'},
            'N4.5': {'L': 70.5, 'a': 8.8, 'b': 16.0, 'hex': '#EDDCC7', 'description': 'Fair with neutral undertones'},
            'N5': {'L': 68.5, 'a': 10.2, 'b': 17.5, 'hex': '#E9D6C0', 'description': 'Fair to light with neutral undertones'},
            'N6': {'L': 60.5, 'a': 13.8, 'b': 21.0, 'hex': '#D9BFA6', 'description': 'Light with neutral undertones'},
            'N7': {'L': 58.8, 'a': 14.5, 'b': 22.5, 'hex': '#D5B99F', 'description': 'Light to medium with neutral undertones'},
            'N8': {'L': 54.5, 'a': 17.0, 'b': 25.0, 'hex': '#CAA88D', 'description': 'Medium with neutral undertones'},
            'N9': {'L': 52.5, 'a': 18.0, 'b': 26.5, 'hex': '#C6A286', 'description': 'Medium with neutral undertones'},
        }
    },
    
    'Face and Body Foundation': {
        'coverage': 'Light to Medium',
        'finish': 'Natural',
        'shades': {
            # C shades (Cool undertones)
            'C1': {'L': 73.0, 'a': 6.0, 'b': 11.8, 'hex': '#F2E3D5', 'description': 'Very fair with cool undertones'},
            'C2': {'L': 69.0, 'a': 7.5, 'b': 13.5, 'hex': '#EBD8C8', 'description': 'Fair with cool undertones'},
            'C3': {'L': 65.0, 'a': 9.0, 'b': 15.5, 'hex': '#E4CDBB', 'description': 'Fair to light with cool undertones'},
            'C4': {'L': 61.0, 'a': 10.5, 'b': 17.5, 'hex': '#DDC2AE', 'description': 'Light with cool undertones'},
            'C5': {'L': 57.0, 'a': 12.0, 'b': 19.5, 'hex': '#D6B7A1', 'description': 'Light to medium with cool undertones'},
            'C6': {'L': 55.0, 'a': 12.5, 'b': 19.5, 'hex': '#D2B19A', 'description': 'Light medium with cool undertones'},
            'C7': {'L': 53.0, 'a': 13.5, 'b': 20.5, 'hex': '#CEAB93', 'description': 'Medium with cool undertones'},
            'C8': {'L': 51.0, 'a': 14.5, 'b': 21.5, 'hex': '#CAA58C', 'description': 'Medium with cool undertones'},
            'C9': {'L': 47.0, 'a': 15.5, 'b': 22.5, 'hex': '#C1997F', 'description': 'Medium to deep with cool undertones'},
            'C10': {'L': 45.0, 'a': 16.5, 'b': 23.5, 'hex': '#BD9378', 'description': 'Medium deep with cool undertones'},
            'C11': {'L': 40.0, 'a': 17.5, 'b': 24.5, 'hex': '#B08569', 'description': 'Deep with cool undertones'},
            'C12': {'L': 32.0, 'a': 20.5, 'b': 27.5, 'hex': '#966148', 'description': 'Very deep with cool undertones'},
            
            # N shades (Neutral undertones)
            'N1': {'L': 72.0, 'a': 8.0, 'b': 14.5, 'hex': '#F0E0CD', 'description': 'Very fair with neutral undertones'},
            'N2': {'L': 68.0, 'a': 9.5, 'b': 16.5, 'hex': '#E9D5C0', 'description': 'Fair with neutral undertones'},
            'N3': {'L': 64.0, 'a': 11.0, 'b': 18.5, 'hex': '#E2CAB3', 'description': 'Fair to light with neutral undertones'},
            'N4': {'L': 60.0, 'a': 12.5, 'b': 20.5, 'hex': '#DBBFA6', 'description': 'Light with neutral undertones'},
            'N5': {'L': 56.0, 'a': 14.0, 'b': 22.5, 'hex': '#D4B499', 'description': 'Light to medium with neutral undertones'},
            'N6': {'L': 52.0, 'a': 15.5, 'b': 24.5, 'hex': '#CDA98C', 'description': 'Medium with neutral undertones'},
            'N7': {'L': 48.0, 'a': 17.0, 'b': 26.5, 'hex': '#C69E7F', 'description': 'Medium with neutral undertones'},
            'N8': {'L': 44.0, 'a': 18.5, 'b': 28.5, 'hex': '#BF9372', 'description': 'Medium to deep with neutral undertones'},
            'N9': {'L': 40.0, 'a': 20.0, 'b': 30.5, 'hex': '#B88865', 'description': 'Deep with neutral undertones'},
            
            # W shades (Warm undertones)
            'W1': {'L': 71.0, 'a': 10.0, 'b': 17.0, 'hex': '#EEDCC6', 'description': 'Very fair with warm undertones'},
            'W2': {'L': 67.0, 'a': 11.5, 'b': 19.0, 'hex': '#E7D1B9', 'description': 'Fair with warm undertones'},
            'W3': {'L': 54.0, 'a': 20.5, 'b': 29.0, 'hex': '#CFA886', 'description': 'Light with warm undertones'},
            'W4': {'L': 52.0, 'a': 21.5, 'b': 30.5, 'hex': '#CBA27F', 'description': 'Light to medium with warm undertones'},
            'W5': {'L': 50.0, 'a': 22.5, 'b': 32.0, 'hex': '#C79C78', 'description': 'Light medium with warm undertones'},
            'W6': {'L': 46.0, 'a': 24.0, 'b': 33.5, 'hex': '#BF906B', 'description': 'Medium with warm undertones'},
            'W7': {'L': 44.0, 'a': 25.0, 'b': 34.5, 'hex': '#BB8A64', 'description': 'Medium with warm undertones'},
            'W8': {'L': 39.0, 'a': 26.5, 'b': 36.0, 'hex': '#AE7C55', 'description': 'Medium to deep with warm undertones'},
            'W9': {'L': 33.0, 'a': 29.5, 'b': 39.0, 'hex': '#9C6842', 'description': 'Deep with warm undertones'},
            'W10': {'L': 31.0, 'a': 30.5, 'b': 40.0, 'hex': '#97623C', 'description': 'Very deep with warm undertones'},
        }
    },
    
    'Pro Longwear Nourishing Waterproof Foundation': {
        'coverage': 'Full',
        'finish': 'Natural Matte',
        'shades': {
            # Selected popular shades (similar range to Studio Fix Fluid)
            'NW15': {'L': 71.2, 'a': 7.2, 'b': 13.6, 'hex': '#EFDCCC', 'description': 'Fair with pink undertones'},
            'NW20': {'L': 68.2, 'a': 8.5, 'b': 15.4, 'hex': '#E9D3C0', 'description': 'Fair with pink undertones'},
            'NW25': {'L': 65.4, 'a': 9.8, 'b': 16.8, 'hex': '#E3CAB4', 'description': 'Light with pink undertones'},
            'NW30': {'L': 61.5, 'a': 11.2, 'b': 18.2, 'hex': '#DCBFA7', 'description': 'Light with pink undertones'},
            'NW35': {'L': 58.2, 'a': 12.6, 'b': 19.6, 'hex': '#D4B49A', 'description': 'Light medium with pink undertones'},
            'NW40': {'L': 54.8, 'a': 14.0, 'b': 21.0, 'hex': '#CCA88D', 'description': 'Light medium with pink undertones'},
            'NW45': {'L': 51.5, 'a': 15.4, 'b': 22.4, 'hex': '#C49D80', 'description': 'Medium with pink undertones'},
            'NW50': {'L': 45.0, 'a': 17.5, 'b': 24.5, 'hex': '#B5886A', 'description': 'Medium to deep with pink undertones'},
            'NW65': {'L': 21.0, 'a': 24.5, 'b': 31.5, 'hex': '#7F4926', 'description': 'Very deep with pink undertones'},
            
            'NC15': {'L': 71.5, 'a': 10.4, 'b': 18.2, 'hex': '#EFDDC5', 'description': 'Fair with yellow undertones'},
            'NC20': {'L': 69.2, 'a': 11.6, 'b': 19.6, 'hex': '#EBD7BE', 'description': 'Fair with yellow undertones'},
            'NC25': {'L': 67.0, 'a': 12.8, 'b': 20.8, 'hex': '#E7D1B7', 'description': 'Fair to light with yellow undertones'},
            'NC30': {'L': 64.8, 'a': 14.0, 'b': 22.0, 'hex': '#E3CBB0', 'description': 'Light with yellow undertones'},
            'NC35': {'L': 62.5, 'a': 15.2, 'b': 23.2, 'hex': '#DEC4A8', 'description': 'Light with yellow undertones'},
            'NC40': {'L': 59.0, 'a': 17.4, 'b': 25.8, 'hex': '#D6B89A', 'description': 'Light medium with yellow undertones'},
            'NC45': {'L': 53.6, 'a': 20.8, 'b': 29.5, 'hex': '#CAA685', 'description': 'Medium with yellow undertones'},
            'NC50': {'L': 50.0, 'a': 23.0, 'b': 32.0, 'hex': '#C29A77', 'description': 'Medium to deep with yellow undertones'},
            'NC65': {'L': 22.0, 'a': 34.0, 'b': 43.0, 'hex': '#824C1F', 'description': 'Very deep with yellow undertones'},
        }
    },
    
    'Studio Radiance Face and Body Radiant Sheer Foundation': {
        'coverage': 'Light',
        'finish': 'Radiant',
        'shades': {
            # C shades (Cool undertones)
            'C0': {'L': 75.0, 'a': 5.5, 'b': 11.0, 'hex': '#F5E7DA', 'description': 'Ultra fair with cool undertones'},
            'C1': {'L': 73.0, 'a': 6.0, 'b': 11.8, 'hex': '#F2E3D5', 'description': 'Very fair with cool undertones'},
            'C2': {'L': 69.0, 'a': 7.5, 'b': 13.5, 'hex': '#EBD8C8', 'description': 'Fair with cool undertones'},
            'C3': {'L': 65.0, 'a': 9.0, 'b': 15.5, 'hex': '#E4CDBB', 'description': 'Fair to light with cool undertones'},
            'C4': {'L': 61.0, 'a': 10.5, 'b': 17.5, 'hex': '#DDC2AE', 'description': 'Light with cool undertones'},
            'C5': {'L': 57.0, 'a': 12.0, 'b': 19.5, 'hex': '#D6B7A1', 'description': 'Light to medium with cool undertones'},
            'C6': {'L': 53.0, 'a': 13.5, 'b': 21.5, 'hex': '#CFAC94', 'description': 'Medium with cool undertones'},
            'C7': {'L': 49.0, 'a': 15.0, 'b': 23.5, 'hex': '#C8A187', 'description': 'Medium with cool undertones'},
            
            # N shades (Neutral undertones)
            'N0': {'L': 74.0, 'a': 7.5, 'b': 14.0, 'hex': '#F3E4D1', 'description': 'Ultra fair with neutral undertones'},
            'N1': {'L': 72.0, 'a': 8.0, 'b': 14.5, 'hex': '#F0E0CD', 'description': 'Very fair with neutral undertones'},
            'N2': {'L': 68.0, 'a': 9.5, 'b': 16.5, 'hex': '#E9D5C0', 'description': 'Fair with neutral undertones'},
            'N3': {'L': 64.0, 'a': 11.0, 'b': 18.5, 'hex': '#E2CAB3', 'description': 'Fair to light with neutral undertones'},
            'N4': {'L': 60.0, 'a': 12.5, 'b': 20.5, 'hex': '#DBBFA6', 'description': 'Light with neutral undertones'},
            'N5': {'L': 56.0, 'a': 14.0, 'b': 22.5, 'hex': '#D4B499', 'description': 'Light to medium with neutral undertones'},
            'N6': {'L': 52.0, 'a': 15.5, 'b': 24.5, 'hex': '#CDA98C', 'description': 'Medium with neutral undertones'},
            'N7': {'L': 48.0, 'a': 17.0, 'b': 26.5, 'hex': '#C69E7F', 'description': 'Medium with neutral undertones'},
            
            # W shades (Warm undertones)
            'W0': {'L': 73.0, 'a': 9.5, 'b': 16.5, 'hex': '#F1E1C9', 'description': 'Ultra fair with warm undertones'},
            'W1': {'L': 71.0, 'a': 10.0, 'b': 17.0, 'hex': '#EEDCC6', 'description': 'Very fair with warm undertones'},
            'W2': {'L': 67.0, 'a': 11.5, 'b': 19.0, 'hex': '#E7D1B9', 'description': 'Fair with warm undertones'},
            'W3': {'L': 63.0, 'a': 13.0, 'b': 21.0, 'hex': '#E0C6AC', 'description': 'Fair to light with warm undertones'},
            'W4': {'L': 59.0, 'a': 14.5, 'b': 23.0, 'hex': '#D9BB9F', 'description': 'Light with warm undertones'},
            'W5': {'L': 55.0, 'a': 16.0, 'b': 25.0, 'hex': '#D2B092', 'description': 'Light to medium with warm undertones'},
            'W6': {'L': 51.0, 'a': 17.5, 'b': 27.0, 'hex': '#CBA585', 'description': 'Medium with warm undertones'},
            'W7': {'L': 47.0, 'a': 19.0, 'b': 29.0, 'hex': '#C49A78', 'description': 'Medium with warm undertones'},
        }
    },
    
    'Next to Nothing Face Colour': {
        'coverage': 'Sheer',
        'finish': 'Natural',
        'shades': {
            'Light': {'L': 68.0, 'a': 9.5, 'b': 16.5, 'hex': '#E9D5C0', 'description': 'Light shade with flexible undertones'},
            'Light Plus': {'L': 64.0, 'a': 11.0, 'b': 18.5, 'hex': '#E2CAB3', 'description': 'Light to medium with flexible undertones'},
            'Medium': {'L': 60.0, 'a': 12.5, 'b': 20.5, 'hex': '#DBBFA6', 'description': 'Medium shade with flexible undertones'},
            'Medium Plus': {'L': 56.0, 'a': 14.0, 'b': 22.5, 'hex': '#D4B499', 'description': 'Medium with depth and flexible undertones'},
            'Medium Deep': {'L': 52.0, 'a': 15.5, 'b': 24.5, 'hex': '#CDA98C', 'description': 'Medium to deep with flexible undertones'},
            'Deep': {'L': 48.0, 'a': 17.0, 'b': 26.5, 'hex': '#C69E7F', 'description': 'Deep shade with flexible undertones'},
        }
    },
    
    'Lightful CÂ³ Natural Silk Powder Foundation': {
        'coverage': 'Medium',
        'finish': 'Natural Matte',
        'shades': {
            # Selected popular NC/NW shades
            'NC15': {'L': 71.5, 'a': 10.4, 'b': 18.2, 'hex': '#EFDDC5', 'description': 'Fair with yellow undertones'},
            'NC20': {'L': 69.2, 'a': 11.6, 'b': 19.6, 'hex': '#EBD7BE', 'description': 'Fair with yellow undertones'},
            'NC25': {'L': 67.0, 'a': 12.8, 'b': 20.8, 'hex': '#E7D1B7', 'description': 'Fair to light with yellow undertones'},
            'NC30': {'L': 64.8, 'a': 14.0, 'b': 22.0, 'hex': '#E3CBB0', 'description': 'Light with yellow undertones'},
            'NC35': {'L': 62.5, 'a': 15.2, 'b': 23.2, 'hex': '#DEC4A8', 'description': 'Light with yellow undertones'},
            'NC40': {'L': 59.0, 'a': 17.4, 'b': 25.8, 'hex': '#D6B89A', 'description': 'Light medium with yellow undertones'},
            'NC42': {'L': 57.2, 'a': 18.6, 'b': 27.0, 'hex': '#D2B293', 'description': 'Light medium with yellow undertones'},
            'NC44': {'L': 55.4, 'a': 19.8, 'b': 28.2, 'hex': '#CEAC8C', 'description': 'Medium with yellow undertones'},
            'NC45': {'L': 53.6, 'a': 20.8, 'b': 29.5, 'hex': '#CAA685', 'description': 'Medium with yellow undertones'},
            'NC50': {'L': 50.0, 'a': 23.0, 'b': 32.0, 'hex': '#C29A77', 'description': 'Medium to deep with yellow undertones'},
            
            'NW15': {'L': 71.2, 'a': 7.2, 'b': 13.6, 'hex': '#EFDCCC', 'description': 'Fair with pink undertones'},
            'NW20': {'L': 68.2, 'a': 8.5, 'b': 15.4, 'hex': '#E9D3C0', 'description': 'Fair with pink undertones'},
            'NW25': {'L': 65.4, 'a': 9.8, 'b': 16.8, 'hex': '#E3CAB4', 'description': 'Light with pink undertones'},
            'NW30': {'L': 61.5, 'a': 11.2, 'b': 18.2, 'hex': '#DCBFA7', 'description': 'Light with pink undertones'},
            'NW35': {'L': 58.2, 'a': 12.6, 'b': 19.6, 'hex': '#D4B49A', 'description': 'Light medium with pink undertones'},
            'NW40': {'L': 54.8, 'a': 14.0, 'b': 21.0, 'hex': '#CCA88D', 'description': 'Light medium with pink undertones'},
            'NW45': {'L': 51.5, 'a': 15.4, 'b': 22.4, 'hex': '#C49D80', 'description': 'Medium with pink undertones'},
            'NW50': {'L': 45.0, 'a': 17.5, 'b': 24.5, 'hex': '#B5886A', 'description': 'Medium to deep with pink undertones'},
        }
    }
}

def get_tone_category(L_value):
    """Determine tone category based on L* value"""
    if L_value >= 70:
        return 'Very Fair'
    elif L_value >= 64:
        return 'Fair'
    elif L_value >= 58:
        return 'Light'
    elif L_value >= 50:
        return 'Light Medium'
    elif L_value >= 42:
        return 'Medium'
    elif L_value >= 35:
        return 'Medium Deep'
    elif L_value >= 28:
        return 'Deep'
    else:
        return 'Very Deep'

def get_undertone_from_shade(shade_name):
    """Extract undertone from MAC shade naming convention"""
    if shade_name.startswith('NW'):
        return 'Cool'  # Pink undertones
    elif shade_name.startswith('NC'):
        return 'Warm'  # Yellow undertones
    elif shade_name.startswith('N'):
        return 'Neutral'
    elif shade_name.startswith('C'):
        return 'Cool'
    elif shade_name.startswith('W'):
        return 'Warm'
    else:
        return 'Neutral'  # Default for flexible undertones

def convert_mac_database_to_app_format():
    """Convert the comprehensive MAC database to the app's format"""
    foundation_database = {
        'Very Fair': [],
        'Fair': [],
        'Light': [],
        'Light Medium': [],
        'Medium': [],
        'Medium Deep': [],
        'Deep': [],
        'Very Deep': []
    }
    
    for product_line, product_data in MAC_FOUNDATION_DATABASE.items():
        for shade_name, shade_data in product_data['shades'].items():
            L_value = shade_data['L']
            tone_category = get_tone_category(L_value)
            undertone = get_undertone_from_shade(shade_name)
            
            foundation_entry = {
                'shade': shade_name,
                'L': shade_data['L'],
                'a': shade_data['a'],
                'b': shade_data['b'],
                'brand': 'MAC',
                'undertone': undertone,
                'product_line': product_line,
                'coverage': product_data['coverage'],
                'finish': product_data['finish'],
                'hex': shade_data.get('hex', ''),
                'description': shade_data.get('description', '')
            }
            
            foundation_database[tone_category].append(foundation_entry)
    
    # Sort each category by L value (lightest to darkest)
    for category in foundation_database:
        foundation_database[category].sort(key=lambda x: x['L'], reverse=True)
    
    return foundation_database
